```shell
yum -y install xinetd telnet-server
cat > /etc/xinetd.d/telnet <<EOF
service telnet
{
disable = yes
flags = REUSE
socket_type = streamwait = no
user = root
server = /usr/sbin/in.telnetd
log_on_failure += USERID
}
EOF

cat >> /etc/securetty <<EOF
pts/0
pts/1
pts/2
pts/3
EOF

systemctl enable xinetd --now
systemctl enable telnet.socket --now
ss -nltp | grep 23
yum -y install gcc gcc-c++ glibc make autoconf openssl openssl-devel pcre-devel pam-devel

wget https://www.openssl.org/source/openssl-1.1.1m.tar.gz --no-check-certificate
wget http://ftp.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-9.0p1.tar.gz
tar -xf openssl-1.1.1m.tar.gz
tar -xf openssh-9.0p1.tar.gz

mv /usr/bin/openssl{,.bak}
mv /usr/include/openssl{,.bak}
cd openssl-1.1.1m
./config shared && make && make install

ln -s /usr/local/bin/openssl /usr/bin/openssl
ln -s /usr/local/include/openssl/ /usr/include/openssl

echo "/usr/local/lib64" >> /etc/ld.so.conf
/sbin/ldconfig
openssl version

mv /etc/ssh{,.bak}
mkdir /usr/local/openssh
cd openssh-9.0p1/
./configure --prefix=/usr/local/openssh \--sysconfdir=/etc/ssh \--with-openssl-includes=/usr/local/include \--with-ssl-dir=/usr/local/lib64 \--with-zlib \--with-md5-passwords \--with-pam && \make && \make install

echo "UseDNS no" >> /etc/ssh/sshd_config
echo 'PermitRootLogin yes' >> /etc/ssh/sshd_config
echo 'PubkeyAuthentication yes' >> /etc/ssh/sshd_config
echo 'PasswordAuthentication yes' >> /etc/ssh/sshd_config

echo "X11Forwarding yes" >> /etc/ssh/sshd_config
echo "X11UseLocalhost no" >> /etc/ssh/sshd_config
echo "XAuthLocation /usr/bin/xauth" >> /etc/ssh/sshd_config

mv /usr/sbin/sshd{,.bak}
mv /usr/bin/ssh{,.bak}
mv /usr/bin/ssh-keygen{,.bak}
ln -s /usr/local/openssh/bin/ssh /usr/bin/ssh
ln -s /usr/local/openssh/bin/ssh-keygen /usr/bin/ssh-keygen
ln -s /usr/local/openssh/sbin/sshd /usr/sbin/sshd
ssh -V

systemctl disable sshd --now
mv /usr/lib/systemd/system/sshd.service{,.bak}
systemctl daemon-reload
cp -a /root/openssh-9.0p1/contrib/redhat/sshd.init /etc/init.d/sshd
cp -a /root/openssh-8.9p1/contrib/redhat/sshd.pam /etc/pam.d/sshd.pam
chkconfig --add sshd
systemctl enable sshd --now

rm -rf /run/lock/subsys/mysql /etc/rc.d/init.d/mysql /etc/selinux/targeted/active/modules/100/mysql /usr/lib64/mysql /usr/share/mysql /usr/local/bin/mysql /usr/local/mysql

```
```sh
tar -zxvf openssh_dep.tar.gz

rpm -Uvh ./*.rpm --nodeps --force
cat > /etc/xinetd.d/telnet <<EOF
service telnet
{
disable = yes
flags = REUSE
socket_type = streamwait = no
user = root
server = /usr/sbin/in.telnetd
log_on_failure += USERID
}
EOF

cat >> /etc/securetty <<EOF
pts/0
pts/1
pts/2
pts/3
EOF

systemctl enable xinetd --now
systemctl enable telnet.socket --now
ss -nltp | grep 23

cd ~/
tar -xf openssl-1.1.1m.tar.gz
tar -xf openssh-9.0p1.tar.gz

mv /usr/bin/openssl{,.bak}
mv /usr/include/openssl{,.bak}
cd /root/openssl-1.1.1m
./config shared && make && make install

ln -s /usr/local/bin/openssl /usr/bin/openssl

ln -s /usr/local/include/openssl/ /usr/include/openssl

echo "/usr/local/lib64" >> /etc/ld.so.conf
/sbin/ldconfig
openssl version

mv /etc/ssh{,.bak}
mkdir /usr/local/openssh
cd /root/openssh-9.0p1/

./configure --prefix=/usr/local/openssh \--sysconfdir=/etc/ssh \--with-openssl-includes=/usr/local/include \--with-ssl-dir=/usr/local/lib64 \--with-zlib \--with-md5-passwords \--with-pam && \make && \make install


echo "UseDNS no" >> /etc/ssh/sshd_config
echo 'PermitRootLogin yes' >> /etc/ssh/sshd_config
echo 'PubkeyAuthentication yes' >> /etc/ssh/sshd_config
echo 'PasswordAuthentication yes' >> /etc/ssh/sshd_config

echo "X11Forwarding yes" >> /etc/ssh/sshd_config
echo "X11UseLocalhost no" >> /etc/ssh/sshd_config
echo "XAuthLocation /usr/bin/xauth" >> /etc/ssh/sshd_config

mv /usr/sbin/sshd{,.bak}
mv /usr/bin/ssh{,.bak}
mv /usr/bin/ssh-keygen{,.bak}
ln -s /usr/local/openssh/bin/ssh /usr/bin/ssh
ln -s /usr/local/openssh/bin/ssh-keygen /usr/bin/ssh-keygen
ln -s /usr/local/openssh/sbin/sshd /usr/sbin/sshd
ssh -V

systemctl disable sshd --now
mv /usr/lib/systemd/system/sshd.service{,.bak}
systemctl daemon-reload
cp -a /root/openssh-9.0p1/contrib/redhat/sshd.init /etc/init.d/sshd
cp -a /root/openssh-9.0p1/contrib/redhat/sshd.pam /etc/pam.d/sshd.pam
chkconfig --add sshd
systemctl enable sshd --now

```