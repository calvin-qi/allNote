### 一、索引的概念

	数据库的索引好比新华字典的音序表，是对数据库中一列或多列的值进行排序后的一种结构，其作用就是提高表中数据的查询速度
1. 普通索引  
	普通索引是由KEY或INDEX定义的索引，它是MySQL中的基本索引类型，可以创建在任何数据类型中，其值是否唯一和非空由字段本身的约束条件所决定。例如，在grade表的stu_id字段上建立一个普通索引，查询记录时就可以根据该索引进行查询了。
2. 唯一性索引
	唯一性索引是由UNIQUE定义的索引，该索引所在字段的值必须是唯一的。例如，在grade表的id字段上建立唯一性索引，那么，id字段的值就必须是唯一的。
3. 全文索引
	全文索引是由FULLTEXT定义的索引，它只能创建在CHAR、VARCHAER、或TEXT类型的字段上。现在只有MyISAM存储引擎支持全文索引
4. 单列索引
	指的是在表中单个字段上创建索引，它可以是普通索引、唯一索引、全文索引，只要保证该索引只对应表中一个字段即可。
5. 多列索引
	指在表中多个字段上创建索引，只有在查询条件中使用了这些字段的第一个字段时，该索引才会被使用。例如，在grade表的id、name、score字段上创建一个多列索引，那么，只有查询条件中使用了id字段时，该索引才会被使用。
6. 空间索引
	空间索引是由SPATIAL定义的索引，它只能创建在空间数据类型的字段上。
	MySQL中的空间数据类型有四种：GEOMETRY、POINT、LINESTRING和POLYGON。创建空间索引的字段必须将其声明为NOT NULL，并且空间索引只能在存储引擎为MyISAM的表中创建。
* 注意：虽然索引可以提高数据的查询速度，但索引会占用一定的磁盘空间，并且在创建和维护索引时，其消耗的时间是随着数据量的增加而增加的。
-------------------------------------
-----------------------------------
### 二、创建索引  
#### 1. 创建表的时候创建索引
```mysql
CREATE TABLE 表名（字段名 数据类型[完整性约束条件],
				  字段名 数据类型[完整性约束条件],
				  ......
				  字段名 数据类型
	[UNIQUE|FULLTEXT|SPATIAL INDEX|KEY [别名] (字段名1 [(长度)]) [ASC|DESC]]
	);
	
```
> UNIQUE:可选，表示唯一性约束
> FULLTEXT:可选，表示全文约束
> SPATIAL:可选，表示空间约束
> INDEX和KEY：用来表示字段的索引，二者选一
> 别名：可选，表示创建的索引名称
> 字段名1：指定索引对应字段的名称
> 长度：可选，用于表示索引的长度
> ASC和DESC：可选，ASC表示升序排列，DESC表示降序排列  
- 创建一个普通索引
```mysql
create table t1(
		id int,
		name varchar(20),
		score float,
		index(id)
);
```
|Field|Type|Null|Key|Default|Extra|
|----|----|----|----|----|----|
| id    | int         | YES  | MUL | NULL    |       |
| name  | varchar(20) | YES  |     | NULL    |       |
| score | float       | YES  |     | NULL    |       |
- 创建唯一索引
```mysql
create table t2(
	id int not null,
	name varchar(20) not null,
	score float,
	unique index unique_id(id asc)
);
```
|Field|Type|Null|Key|Default|Extra|
|----|----|----|----|----|----|
| id    | int         | YES  | PRI | NULL    |       |
| name  | varchar(20) | YES  |     | NULL    |       |
| score | float       | YES  |     | NULL    |       |
- 创建全文索引
```mysql
create table t3(
	id int not null,
	name varchar(20) not null,
	score float,
	fulltext index fulltext_name(name)
)engine=myisam;
```
|Field|Type|Null|Key|Default|Extra|
|----|----|----|----|----|----|
| id    | int         | NO   |     | NULL    |       |
| name  | varchar(20) | NO   | MUL | NULL    |       |
| score | float       | YES  |     | NULL    |       |
- 创建多列索引（以上三个都是单列索引）
```mysql
create table t4(
	id int not null,
	name varchar(20) not null,
	score float,
	index multi(id,name(20))
);
```
- 创建空间索引
```mysql
create table t5(
	id int,
	space geometry not null,
	spatial index sp(space)
)engine=myisam;
```
|Field|Type|Null|Key|Default|Extra|
|----|----|----|----|----|----|
| id    | int      | YES  |     | NULL    |       |
| space | geometry | NO   | MUL | NULL    |       |

-------------------------------------------
------------------------------------
#### 2 .使用CREATE INDEX语句在已经存在的表上创建索引
```mysql
CREATE [unique|FULLTEXT|SPATIAL] INDEX 索引名 ON 表名 (字段名 [(长度)] [ASX|DESC]);
```
先创建一个表book
```mysql
CREATE TABLE book(
	bookid INT NOT NULL,
	bookname VARCHAR(255) NOT NULL,
	authors VARCHAR(255) NOT NULL,
	info VARCHAR(255) null,
	comment VARCHAR(255) NULL,
	publicyear YEAR NOT NULL
);
```
- 创建普通索引在bookid这一列上
```mysql
create index index_id in book(bookid);
```
- 创建唯一索引在bookid这一列上
```mysql
create unique quique_id in book(bookid);
```
- 创建多列索引
```mysql
CREATE INDEX mulit_idx ON book(authors(20),info(20));
```
- 创建全文索引，注意只能加在引擎为MyISM的表上
（先删除上面创建的book表：`drop table book;`）
```mysql
CREATE TABLE book(
	bookid int NOT NULL,
	bookname VARCHAR(255) NOT NULL,
	authors VARCHAR(255) NOT NULL,
	info VARCHAR(255) NULL,
	comment VARCHAR(255) null,
	publicyear YEAR NOT null
)ENGINE=MyISAM;
```
```mysql
create FULLTEXT index ftindex ON book (bookname);
```
- 创建空间索引
```mysql
CREATE TABLE t6(
	id int not null,
	name varchar(20) not null,
	g GEOMETRY not null
)ENGINE=MyISAM;
create SPATIAL INDEX spat_idx ON t6(g);
```

------------------------------------
--------------------
#### 3. 使用ALTER TABLE语句在已经存在表上创建索引
```mysql
ALTER TABLE 表名 ADD [UNIQUE|FULLTEXT|SPATIAL] INDEX 索引名 (字段名[(长度)] [ASC|DESC]);
```
先`drop table book`再创建book
```mysql
CREATE TABLE book(
	bookid int NOT NULL,
	bookname VARCHAR(255) NOT NULL,
	authors VARCHAR(255) NOT NULL,
	info VARCHAR(255) NULL,
	comment VARCHAR(255) null,
	publicyear YEAR NOT null
);
```
```mysql
ALTER TABLE book ADD INDEX index_one (bookid);
```
| Field      | Type         | Null | Key | Default | Extra |
|----|----|----|----|----|----|
| bookid     | int          | NO   | MUL | NULL    |       |
| bookname   | varchar(255) | NO   |     | NULL    |       |
| authors    | varchar(255) | NO   |     | NULL    |       |
| info       | varchar(255) | YES  |     | NULL    |       |
| comment    | varchar(255) | YES  |     | NULL    |       |
| publicyear | year         | NO   |     | NULL    |       |
### 3.删除索引  
- 方式一
```myaql
ALTER TABLE 表名 DROP INDEX 索引名；
```
```mysql
alter table book drop index index_one(bookid);
```
- 方式二
```mysql
DROP INDEX 索引名 ON 表名;
```
```mysql
drop index index_one ON 表名;
```