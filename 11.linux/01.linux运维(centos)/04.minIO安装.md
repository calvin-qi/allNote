# minio的安装

## 1、docker安装minio

```shell
# 1.查询minio服务版本
docker search minio

# 2.拉取minio，执行命令 docker pull minio/minio 下载稳定版本镜像，使用命令 docker images 查看下载的镜像
docker pull minio/minio

# 3.启动
#################################################################
#如果是docker安装的，启动命令如下：
docker run  -p 9000:9000 --name minio \
 -d --restart=always \
 -e MINIO_ACCESS_KEY=minio \
 -e MINIO_SECRET_KEY=minio@123 \
 -v /usr/local/minio/data:/data \
 -v /usr/local/minio/config:/root/.minio \
  minio/minio server /data  --console-address ":9000" --address ":9090"
#################################################################

###############################################################
#如果是linux版安装的，启动命令如下：
./minio server /usr/local/minio/data --console-address ":9090"
###############################################################
```

启动：IP+9000访问

![在这里插入图片描述](https://i.loli.net/2021/11/26/qxdeSD37Ab8lZsm.png)

## 2、下载安装旧版本

```shell
#拉取
docker pull minio/minio:RELEASE.2021-06-17T00-10-46Z
#启动
docker run -p 9000:9000 minio/minio:RELEASE.2021-06-17T00-10-46Z server /data
```

访问：IP+9000

![在这里插入图片描述](https://i.loli.net/2021/11/26/QwOVSIlKhmC45Ep.png)



## 3、MinIO自定义Access和Secret密钥
```shell
docker run -p 9000:9000 minio/minio server /data
```
MinIO 需要一个持久卷来存储配置和应用数据。不过, 如果只是为了测试一下, 您可以通过简单地传递一个目录（在下面的示例中为/ data）启动MinIO。这个目录会在容器启动时在容器的文件系统中创建，不过所有的数据都会在容器退出时丢失。

所以我们在工作中，真正的开发中，不能这么干，以上命令仅供测试使用，那么在工作当中应该注意什么呢？首先你的key 和 secret是哼重要的，就相当于你的账号密码，不要设置的那么简单，还有就是你的文件存放，假设服务宕机了，文件也不丢失，服务迁移了，文件也能跟着迁移，这才是工作中应当注意的地方。

要覆盖MinIO的自动生成的密钥，您可以将Access和Secret密钥设为环境变量。 MinIO允许常规字符串作为Access和Secret密钥。
```shell
docker run -p 9000:9000 --name minio\
  -e "MINIO_ACCESS_KEY=admin" \
  -e "MINIO_SECRET_KEY=admin1973984292@qq.com" \
  -v /usr/local/minio/data:/data \
  -v /usr/local/minio/config:/root/.minio \
  minio/minio:RELEASE.2021-06-17T00-10-46Z server /data
```
```shell
/usr/local/minio/data // 数据卷存放路径（自行添加）
/usr/local/minio/config //服务配置文件（自行添加）
```
再次启动之后，我们就可以发现重新登录，就可以使用我们自己的Access和Secret密钥了。

![在这里插入图片描述](https://i.loli.net/2021/11/26/7Gyq3nAZLzsVkha.png)

新建一个存储桶，往里面添加一个文件：

![在这里插入图片描述](https://i.loli.net/2021/11/26/flo36M9SVuPX47a.png)


上传成功之后，我们去到我们的服务data数据卷存储位置，查看文件是否存在。

![在这里插入图片描述](https://i.loli.net/2021/11/26/mOSyivkNCsXB8Ro.png)

4、MinIO后台的方式启动
如果要后台运行 加入 -d 参数

```shell
docker run -d -p 9000:9000 --name minio\
  -e "MINIO_ACCESS_KEY=admin" \
  -e "MINIO_SECRET_KEY=admin1973984292@qq.com" \
  -v /usr/local/minio/data:/data \
  -v /usr/local/minio/config:/root/.minio \
  minio/minio:RELEASE.2021-06-17T00-10-46Z server /data
```
另外小编给大家一个中文文档方便学习Minio：http://docs.minio.org.cn/docs/master/minio-docker-quickstart-guide
